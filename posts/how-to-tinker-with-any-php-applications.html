<!DOCTYPE html>
<html lang="en">
<head>
	<title>How to &quot;tinker&quot; with any PHP applications - daudau&#039;s blog</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="If you a Laravel devloper, i think you may be known a software called &lt;a href=&quot;https://tinkerwell.app&quot;&gt;Tinkerwell&lt;/a&gt; made by Marcel Pociot, the fast &lt;del&gt;boy&lt;/">

    <meta name="twitter:creator" content="@bangnokia">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="If you a Laravel devloper, i think you may be known a software called &lt;a href=&quot;https://tinkerwell.app&quot;&gt;Tinkerwell&lt;/a&gt; made by Marcel Pociot, the fast &lt;del&gt;boy&lt;/">

    <meta name="og:title" content="How to &quot;tinker&quot; with any PHP applications - daudau&#039;s blog">
    <meta name="og:description" content="If you a Laravel devloper, i think you may be known a software called &lt;a href=&quot;https://tinkerwell.app&quot;&gt;Tinkerwell&lt;/a&gt; made by Marcel Pociot, the fast &lt;del&gt;boy&lt;/">
    <meta name="og:type" content="article">

            <meta name="og:image" content="/images/pinker-sketch.png">
        <meta name="twitter:image" content="/images/pinker-sketch.png">
    
	<link rel="icon" type="image/png" href="/images/favicon-32x32.png">
    <link rel="stylesheet" type="text/css" href="/css/app.css?v=1618480553">
    <link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400&display=swap" rel="stylesheet">

            <link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@10.6.0/styles/default.min.css">
    </head>
<body>
	<div class="main-body mx-auto flex flex-col min-h-screen px-5 pt-5 max-w-2xl">
		 <div class="flex space-x-5 flex-none">
	<a href="/" class="text-gray-500 hover:underline">Home</a>
    <a href="/open-source.html" class="text-gray-500 hover:underline">Open source</a>
</div>
 

		<div class="mt-20 flex-grow flex-shrink flex-1">
			<div id="post">
        <h1 class="text-cyan-600 text-3xl mb-5 font-bold">How to &quot;tinker&quot; with any PHP applications</h1>
        <div class="text-gray-400 text-sm mb-10 flex items-center">
            <span>
               Published on <time datetime="2021-04-09" class="tracking-tight">
                    Apr, 09 2021
                </time>
            </span>
             <a href="https://github.com/bangnokia/daudau.cc/blob/master/posts/2021-04-09-how-to-tinker-with-any-php-applications.md" title="edit this post" target="_blank" class="ml-5 text-gray-400">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
    </svg>
</a>
 
        </div>

        <div class="relative block">
            <div class="post-content mt-5 leading-7 post-content font-light text-lg box-border break-words">
                <h2 id="do-you-know-tinkerwell-app" name="do-you-know-tinkerwell-app">Do you know Tinkerwell app?</h2>
<p>If you a Laravel devloper, i think you may be known a software called <a href="https://tinkerwell.app">Tinkerwell</a> made by Marcel Pociot, the fast <del>boy</del> developer from <a href="https://beyondco.de/">Beyond Code</a>, which help you tinker with any PHP applications even on local machine or remote server via SSH.</p>
<p>You know, the first impression, that was epic! What the hell how it works? <strong>You should <a href="https://tinkerwell.app/#pricing">buy</a> it</strong>.</p>
<h2 id="how-it-works" name="how-it-works">How it works</h2>
<blockquote>
<p>I haven't buy the Tinkerwell or used it before (because US pricing isn't sweetly in my country xD), all the explainations in this blog post from some investigations about <a href="https://github.com/tinkerwellapp/drivers">public resources</a> of Tinkerwell and <a href="https://github.com/spatie/laravel-web-tinker">laravel-web-tinker</a></p>
</blockquote>
<p>My first thought, it's must be something base on <code>artisan tinker</code> command. So after digging into laravel tinker component, i see it's just an specific wrapper of <a href="https://github.com/bobthecow/psysh">PsySH</a> - a runtime developer console, interactive debugger and REPL for PHP. From row, the light is openned for us.</p>
<h3 id="bootstraps-php-application" name="bootstraps-php-application">Bootstraps PHP application</h3>
<p>First, we need to includes the correctly entry files of the application, which give you access to all then functions of the project. For more details, you should take a look at the <a href="https://github.com/bobthecow/psysh/wiki/Configuration">configuration</a> of PsySH.</p>
<p>Example if project base on composer, it is <code>vendor/autoload.php</code>. For laravel is <code>bootstrap/app.php</code>, Wordpress is <code>wp-load.php</code>, etc...</p>
<h3 id="execute-php-codes" name="execute-php-codes">Executes php code</h3>
<p>We have 2 problems to solve:</p>
<ul>
<li>Bootstrap for project on local machine.</li>
<li>Bootstrap for project on remote server???</li>
</ul>
<p>Including files on local machines is easy, but how can we includes them on the remote server? The only action we can do is execute some commands via SSH.</p>
<p>Let try to make a small binary file, we gonna upload it to server, and of course the file size must be small as possible. So i made a simple wrapper for PsySH and named it <a href="https://github.com/bangnokia/psycho">psycho</a>, built using <a href="https://github.com/box-project/box">box</a> and the file  size around ~600kb - ok fine :(. It's also using drivers to detects and proper bootstraps <strong>many</strong> kinds of php project (actually 2).</p>
<p>The api is simple:</p>
<pre><code class="language-bash">php psycho.phar --target=/project/root/path --code=somephpcode</code></pre>
<p><img src="/images/pinker-sketch.png" alt="pinker sketch" /></p>
<p align="center"><i>a cute cat do php programming</i></p>
<p>My naming for classes in this package is stupid, and you should not use it.</p>
<h3 id="strategies" name="strategies">Strategies</h3>
<p>Absolutely, we need install PHP on our machine.</p>
<p>On local machine, we spawn a process an execute the <code>psycho.phar</code>.</p>
<p>On remote server, we can upload <code>psycho.phar</code> to <code>/tmp/</code> directory and execute command via SSH: </p>
<pre><code>ssh user@remote.test "psycho command"</code></pre>
<p>IMHO if we can open a background process and keep the connection of the ssh session then streamming the out output, that's actually better way than having to ssh into server every time we execute php code, but i don't know how to do it. If you know, please give me some clues :(.</p>
<h2 id="poc" name="poc">Proof of Concept</h2>
<p>I already made a electron app like Tinkerwell with base functions, and it works <strong>for me</strong>. It's called <a href="https://github.com/bangnokia/pinker">Pinker</a>.</p>
<p>Pinker itself is a Laravel app, why? Because shipping the default Laravel project is convenient for quick prototyping some pieces of code, let write it in Laravel. So electron part help spawns <code>php artisan serve</code> and open the local url. Thankfully Laravel Livewire for crafted it up like a SPA, you know, easily and i don't like to write must javascript stuff.</p>
<p>So may be you can try it or made your own version if you a <em>hardcore</em> and <em>poor</em> guy. My worse experience with Electron is file size after built ridiculous big (around ~90MB).</p>
<h2 id="conclusion" name="conclusion">Conclusion</h2>
<p>Again, this research is not how Tinkerwell actually works, all the plots came from my illusion. I just want to use some very basic functions for my daily basis. </p>
<p>To made a application like Tinkerwell really need so much hard working time, you should consider to buy it for best experience.</p>
<p>Thank you for reading my dummy explainations. Hope you guys enjoy it!</p>
            </div>
            <div class="absolute top-0 right-0 h-full z-0">
                 <div class="fixed hidden lg:block fixed" x-data="tableOfContents()">
    <div class="table-of-contents w-96 sticky top-0 right-0 pt-5 pl-5">
        <ol class="list-decimal list-inside">
            <template x-for="item in items" :key="item.id">
                <li class="transition text-gray-300 hover:text-gray-500"><a x-bind:href="`#${item.id}`" x-text="item.label" class="transition text-gray-300 hover:no-underline hover:text-gray-500"></a>

                    <template x-if="item.children.length">
                        <ol class="list-decimal list-inside ml-5">
                            <template x-for="subItem in item.children" :key="subItem.id">
                                <li class="transition text-gray-300 hover:text-gray-500"><a x-bind:href="`#${subItem.id}`" x-text="subItem.label" class="transition text-gray-300 hover:no-underline hover:text-gray-500"></a>
                                </li>
                            </template>
                        </ol>
                    </template>
                </li>
            </template>
        </ol>
    </div>
</div>

 
            </div>
        </div>

        <!-- tags -->
                    <div class="mt-10">
                <strong>Tags:</strong>
                                    <span class="tag bg-gray-200 px-2 py-1 cursor-pointer hover:bg-red-300">laravel</span>
                                    <span class="tag bg-gray-200 px-2 py-1 cursor-pointer hover:bg-red-300">tinker</span>
                            </div>
        
    </div>

    <div class="mt-10">
        <script src="https://utteranc.es/client.js"
            repo="bangnokia/daudau.cc"
            issue-term="pathname"
            label="comment"
            theme="github-light"
            crossorigin="anonymous"
            async>
        </script>
    </div>
		</div>

		<footer class="text-sm flex justify-end h-12 border-t pt-3 mt-10 space-x-2">
			<a href="/about.html" title="github" class="text-gray-500">about</a>
			<span>-</span>
			<p>crafted by <a href="http://github.com/bangnokia/pekyll" target="_blank">pekyll</a> with ❤️.</p>
		</footer>
	</div>

    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.1/dist/alpine.min.js" defer></script>
    <script>
        function tableOfContents() {
             const items = [...document.querySelectorAll('h2, h3')].map(function (ele) {
                return {
                    id: ele.getAttribute('id'),
                    label: ele.textContent,
                    level: parseLevel(ele.nodeName),
                    children: []
                };
            });

            let tree = [];
            for (let i = 0; i < items.length; i++) {
                let item = items[i];
                if (item.level === 2) {
                    tree.push(item);
                }

                if (item.level === 3) {
                    tree[tree.length - 1].children.push(item);
                }
            }

            return {items: tree};
        }

        function parseLevel(heading) {
            return parseInt(heading.substr(1,1));
        }
    </script>
        <script src="https://unpkg.com/@highlightjs/cdn-assets@10.6.0/highlight.min.js"></script>
        <script src="https://unpkg.com/@highlightjs/cdn-assets@10.6.0/languages/php.min.js"></script>
        <script>hljs.highlightAll();</script>
    
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-37232412-22"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	  gtag('config', 'UA-37232412-22');
	</script>
</body>
</html>
 
