<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Setup Contabo Object Storage s3 compatible in Laravel application | Blog of Nguyen</title>
    <meta name="description" content="Introduction
I think mostly people gonna use s3, but the aws pricing is not feel comfortable for me, so I found contabo object storage, it&#039;s s3 compatible and the pr">

    <link rel="icon" href="/favicon.png" type="image/x-icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..700;1,100..700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <header class="container">
        <nav class="main-menu">
            <a href="/">Blog</a>
            <a href="/about">About</a>
        </nav>
    </header>

    <main class="container" style="padding: 4rem 0 0; width: 100%; height: 100%; flex-grow: 1">
            <h1>Setup Contabo Object Storage s3 compatible in Laravel application</h1>
    <time class="text-sm">December 1, 2023</time>

    <article class="prose">
        <h2>Introduction</h2>
<p>I think mostly people gonna use s3, but the aws pricing is not feel comfortable for me, so I found <a href="https://contabo.com/en/object-storage/">contabo object storage</a>, it's <strong>s3 compatible</strong> and the pricing is very cheap, so i decided to use it for my Laravel application. At the time of writing, the pricing is $2.99 per month for 250GB.
<img src="/images/contabo-object-storage-price-compare.png" alt="contabo object storage pricing comparison" /></p>
<h2>Setup in Contabo</h2>
<h3>Create bucket and get credentials</h3>
<p>First you need to create a bucket, you can do it in the <a href="https://my.contabo.com/object_storage">contabo object storage panel</a></p>
<p>Also, make your bucket public, so you can access it from your application.
<img src="/images/contabo-public-bucket.png" alt="contabo public bucket" /></p>
<p>Afterward, visit <code>Account -&gt; Security &amp; Access</code>, you will get the credentials like this:
<img src="/images/contabo-bucket-credentials.png" alt="cotabo object storage credentials" /></p>
<h2>Setup in Laravel</h2>
<h3>Install package in Laravel</h3>
<p>First, you need to install the package:</p>
<pre><code class="language-bash">composer require league/flysystem-aws-s3-v3 "^3.0" --with-all-dependencies</code></pre>
<p>In the <code>config/filesystems.php</code>, modify the following code if you want, but I will keep this as default:</p>
<pre><code class="language-php">'s3' =&gt; [
    'driver' =&gt; 's3',
    'key' =&gt; env('AWS_ACCESS_KEY_ID'),
    'secret' =&gt; env('AWS_SECRET_ACCESS_KEY'),
    'region' =&gt; env('AWS_DEFAULT_REGION'),
    'bucket' =&gt; env('AWS_BUCKET'),
    'url' =&gt; env('AWS_URL'),
    'endpoint' =&gt; env('AWS_ENDPOINT'),
    'use_path_style_endpoint' =&gt; env('AWS_USE_PATH_STYLE_ENDPOINT', false),
    'throw' =&gt; false,
],</code></pre>
<h3>Config our <code>.env</code> file using Contabo credentials</h3>
<p>Please note that <code>AWS_USE_PATH_STYLE_ENDPOINT=true</code> must be true, otherwise it will not work.</p>
<pre><code class="language-dotenv">AWS_ACCESS_KEY_ID=9ef6e69598c547336aa1d4004b2267ad
AWS_SECRET_ACCESS_KEY=4ebf11e65e469b3a7b91e87cc169b27c
AWS_DEFAULT_REGION=usc1
AWS_BUCKET=test
AWS_ENDPOINT=https://usc1.contabostorage.com # without the bucket name here, we'll use path style
AWS_URL=https://usc1.contabostorage.com/4069dd56f17142fbbbf34e43ce1902a0:test # the public url
AWS_USE_PATH_STYLE_ENDPOINT=true</code></pre>
<p>That's it, now you can use the <code>Storage</code> facade to upload your file to Contabo object storage. For example:</p>
<pre><code class="language-php">Storage::disk('s3')-&gt;put('test.txt', 'Hello World');</code></pre>
<h2>Conclusion</h2>
<p>I think Contabo object storage is a good choice for s3 compatible storage, it's cheap and easy to use.
If you have a tight budget like me, you can try it. ðŸš€</p>
    </article>
    </main>

    <footer class="container">
        <div>&copy; Nguyen Viet</div>
        <a href="/wakatime" style="color: white">wakatime</a>
    </footer>
</body>

</html>
